{
  "version": 3,
  "sources": ["browser-route-module:C:\\Users\\sandr\\Desktop\\awp-spring-2022\\lesson-05\\remix-shopping-with-api\\app\\routes\\api\\toys\\$productId.js?browser", "../../../../../app/routes/api/toys/$productId.js"],
  "sourcesContent": ["export * from \"C:\\\\Users\\\\sandr\\\\Desktop\\\\awp-spring-2022\\\\lesson-05\\\\remix-shopping-with-api\\\\app\\\\routes\\\\api\\\\toys\\\\$productId.js\";", "import { json } from \"remix\";\r\nimport db from \"~/db/toys/db.server.js\";\r\n\r\nexport async function loader({ params }) {\r\n  const product = db.data.products?.find((p) => p.id === params.productId);\r\n  return product;\r\n}\r\n\r\nexport async function action({ request, params }) {\r\n  switch (request.method) {\r\n    case \"PUT\": {\r\n      const body = await request.json();\r\n      db.data.products = db.data.products.map((p) => {\r\n        if (p.id == params.productId) {\r\n          return body;\r\n        } else {\r\n          return p;\r\n        }\r\n      });\r\n      db.write();\r\n      return json(body, {\r\n        status: 202,\r\n      });\r\n    }\r\n    case \"DELETE\": {\r\n      db.data.products = db.data.products.filter(\r\n        (p) => p.id !== params.productId\r\n      );\r\n      db.write();\r\n      return new Response(null, { status: 204 });\r\n    }\r\n  }\r\n}\r\n"],
  "mappings": ";;;;;;;;;;;;AAAA;;;ACAA;AACA,uBAAe;AAEf,sBAA6B,EAAE,UAAU;AACvC,QAAM,UAAU,yBAAG,KAAK,UAAU,KAAK,CAAC,MAAM,EAAE,OAAO,OAAO;AAC9D,SAAO;AAAA;AAGT,sBAA6B,EAAE,SAAS,UAAU;AAChD,UAAQ,QAAQ;AAAA,SACT,OAAO;AACV,YAAM,OAAO,MAAM,QAAQ;AAC3B,+BAAG,KAAK,WAAW,yBAAG,KAAK,SAAS,IAAI,CAAC,MAAM;AAC7C,YAAI,EAAE,MAAM,OAAO,WAAW;AAC5B,iBAAO;AAAA,eACF;AACL,iBAAO;AAAA;AAAA;AAGX,+BAAG;AACH,aAAO,KAAK,MAAM;AAAA,QAChB,QAAQ;AAAA;AAAA;AAAA,SAGP,UAAU;AACb,+BAAG,KAAK,WAAW,yBAAG,KAAK,SAAS,OAClC,CAAC,MAAM,EAAE,OAAO,OAAO;AAEzB,+BAAG;AACH,aAAO,IAAI,SAAS,MAAM,EAAE,QAAQ;AAAA;AAAA;AAAA;",
  "names": []
}
